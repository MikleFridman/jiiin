{% extends "base.html" %}

{% block app_content %}
<div class="row mt-1">
    <div class="col-md-6">
        <form class="form-inline" action="" method="POST">
            {{ form.hidden_tag() }}
            <div class="form-group">
                <div class="d-flex justify-content-between">
                    <div>
                        {{ form.client.label(class_="col-form-label") }} {% if form.client.flags.required %}*{% endif %}
                    </div>
                    <div class="mt-2 me-1">
                        <a class="text-decoration-none text-reset" href="{{ url_select_client }}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-person-lines-fill text-primary" viewBox="0 0 16 16">
                              <path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"/>
                            </svg>
                        </a>
                    </div>
                </div>
                {% if form.client.errors %}
                    {{ form.client(class_="form-select is-invalid") }}
                {% else %}
                    {{ form.client(class_="form-select") }}
                {% endif %}
            </div>
            <div class="form-group mt-2">
                {{ form.date.label(class_="col-form-label") }} {% if form.date.flags.required %}*{% endif %}
                {% if form.date.errors %}
                    {{ form.date(class_="form-control is-invalid") }}
                {% else %}
                    {{ form.date(class_="form-control") }}
                {% endif %}
            </div>
            <div class="form-group mt-2">
                {{ form.description.label(class_="col-form-label") }} {% if form.description.flags.required %}*{% endif %}
                {% if form.description.errors %}
                    {{ form.description(class_="form-control is-invalid") }}
                {% else %}
                    {{ form.description(class_="form-control") }}
                {% endif %}
            </div>
            <div class="mt-3 ms-1">
                {{ form.processed(class_="form-check-input") }}
                {{ form.processed.label(class_="form-check-label ms-1") }}
            </div>
            <hr>
            <div class="d-flex justify-content-between mb-2">
                <div>
                    <button type="button" class="btn btn-secondary" onclick="window.location.href='{{ url_back }}'">{{ _('Back') }}</button>
                </div>
                <div>
                    {% if client %}
                    <a href="tel:{{ client.phone }}">
                    <button type="button" class="btn btn-light">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-telephone-forward-fill text-primary" viewBox="0 0 16 16">
                          <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zm10.761.135a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L14.293 4H9.5a.5.5 0 0 1 0-1h4.793l-1.647-1.646a.5.5 0 0 1 0-.708z"/>
                        </svg>
                    </button>
                    </a>
                    {% endif %}
                </div>
                <div>
                    {{ form.submit(class_="btn btn-primary") }}
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}